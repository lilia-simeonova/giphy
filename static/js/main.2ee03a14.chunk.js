(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(39)},29:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(9),l=a.n(i),c=a(7),o=a.n(c),r=(a(29),a(2)),u=a(3),h=a(6),d=a(4),m=a(5),p=a(1),f=(a(31),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={loaded:!1,clicked:!1,modalIsOpen:!1,toSlackRes:""},a.openModal=a.openModal.bind(Object(p.a)(Object(p.a)(a))),a.closeModal=a.closeModal.bind(Object(p.a)(Object(p.a)(a))),a.handleKeyPress=a.handleKeyPress.bind(Object(p.a)(Object(p.a)(a))),a.handleImageLoaded=a.handleImageLoaded.bind(Object(p.a)(Object(p.a)(a))),a.handleClick=a.handleClick.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleImageLoaded",value:function(){this.setState({imageStatus:!0})}},{key:"handleClick",value:function(){this.setState({clicked:!0})}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.openModal()}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1,toSlackRes:""})}},{key:"mapRating",value:function(e){switch(e){case"g":return"General Audiences";case"pg":return"Parental Guidance Suggested";case"pg-13":return"Parents Strongly Cautioned";case"r":return"Restricted";case"nc-17":return"Adults only";default:return"General Audiences"}}},{key:"shareToSlack",value:function(){var e=this;fetch("https://hooks.slack.com/services/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",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:"Hey! Check this out",attachments:[{fallback:"Gif",color:"#2eb886",title:this.props.gif.title,image_url:this.props.gif.images.downsized_medium.url}]})}).then(function(t){e.setState({toSlackRes:"ok"})}).catch(function(t){e.setState({toSlackRes:"err"})})}},{key:"render",value:function(){var e=this.props.gif,t=this.props.mosaic,a=e.id,n=e.images.downsized_medium.url,i=this.mapRating(e.rating),l=e.title,c="gifsMosaic"===t?"gifMosaic":"gif",r="unknown";e.user&&(r=e.user.username);var u=this.state.imageStatus?"showImg":"hideImg";return s.a.createElement("div",{className:c},s.a.createElement(o.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,className:"modal",contentLabel:"Example Modal"},s.a.createElement("img",{"aria-label":l,key:a,alt:l,src:n,className:"modalImg"}),s.a.createElement("div",{className:"info"},s.a.createElement("h2",{style:{textAlign:"center"}},l),s.a.createElement("div",null,"Rating: ",s.a.createElement("b",null,i))," ",s.a.createElement("div",{className:"slack"},s.a.createElement("button",{className:"slackBtn",onClick:this.shareToSlack.bind(this)}),"ok"===this.state.toSlackRes?s.a.createElement("div",{className:"slackResponse"},s.a.createElement("span",{role:"img","aria-label":"smile-emoji"},"\ud83d\ude0a")," ","Successfully sent to Slack"):s.a.createElement("div",null),"err"===this.state.toSlackRes?s.a.createElement("div",{className:"slackResponse"}," ",s.a.createElement("span",{role:"img","aria-label":"sad-emoji"},"\ufffd\ud83d\ude14")," ","Something went wrong"," "):s.a.createElement("div",null)),s.a.createElement("div",null,s.a.createElement("i",null,"Uploaded by: ",r)))),s.a.createElement("div",{className:"placeholder"},s.a.createElement("img",{tabIndex:0,className:u,"aria-label":l,key:a,src:n,alt:l,onLoad:this.handleImageLoaded,onClick:this.openModal,onKeyPress:this.handleKeyPress})))}}]),t}(n.Component)),b=(a(33),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={urls:[],gifsClass:"gifs",sort:"",height:window.innerHeight,bottom:!1,changedSearch:!1},a.getGifs=a.getGifs.bind(Object(p.a)(Object(p.a)(a))),a.useMosaicLayout=a.useMosaicLayout.bind(Object(p.a)(Object(p.a)(a))),a.sort=a.sort.bind(Object(p.a)(Object(p.a)(a))),a.handleScroll=a.handleScroll.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getGifs(),window.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(e){e.urls||e.search===this.props.search||(this.setState({urls:[]}),this.getGifs())}},{key:"getGifs",value:function(){var e=this,t="Omhm6ajl8QPeCrypi6UqAcf6zHPtD2cx",a="https://api.giphy.com/v1/gifs/",n=this.props.search,s="";s=""===n?a+"trending?api_key="+t:a+"search?api_key="+t+"&q="+n,s+="&offset="+this.state.urls.length,fetch(s,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){var a=t.data;if(0===e.state.urls.length)e.setState({urls:a});else{var n=e.state.urls.concat(a);e.setState({urls:n})}}).catch(function(e){return console.log(e)})}},{key:"handleScroll",value:function(e){var t="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,a=document.body,n=document.documentElement,s=Math.max(a.scrollHeight,a.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);t+window.pageYOffset>=s?(this.setState({bottom:!0}),this.getGifs()):this.setState({bottom:!1})}},{key:"useMosaicLayout",value:function(){"gifs"===this.state.gifsClass?this.setState({gifsClass:"gifsMosaic"}):this.setState({gifsClass:"gifs"})}},{key:"sort",value:function(){var e=[],t="";"ASC"===this.state.sort?(e=this.state.urls.sort(function(e,t){return new Date(t.import_datetime)-new Date(e.import_datetime)}),t="DESC"):(e=this.state.urls.sort(function(e,t){return new Date(e.import_datetime)-new Date(t.import_datetime)}),t="ASC"),this.setState({urls:e,sort:t})}},{key:"render",value:function(){var e=this,t=this.state.urls;if(t){var a=t.map(function(t,a){return s.a.createElement(f,{key:"gif-"+a,gif:t,mosaic:e.state.gifsClass})});return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("button",{onClick:this.useMosaicLayout,className:"options layout"},"Change Layout"),s.a.createElement("button",{onClick:this.sort,className:"options"},"Sort ","ASC"===this.state.sort?"\u2b06":"\u2b07"),s.a.createElement("p",null,"Sorted by: ",""!==this.state.sort?"uploaded time":"")),s.a.createElement("div",{className:this.state.gifsClass},a))}}}]),t}(n.Component)),g=(a(35),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={input:""},a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState({input:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.updateSearch(this.state.input)}},{key:"render",value:function(){return s.a.createElement("div",{className:"search"},s.a.createElement("h1",null,"Search for: ",this.props.search||"Trending"),s.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},s.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,className:"inputSearch","aria-label":"search-input"}),s.a.createElement("input",{type:"submit",value:"Search",className:"searchButton"})))}}]),t}(n.Component)),v=(a(37),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={search:""},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"updateSearchState",value:function(e){this.setState({search:e})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("header",null,s.a.createElement(g,{updateSearch:this.updateSearchState.bind(this),search:this.state.search})),s.a.createElement(b,{search:this.state.search}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=document.getElementById("root");o.a.setAppElement(k),l.a.render(s.a.createElement(v,null),k),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,2,1]]]);
//# sourceMappingURL=main.2ee03a14.chunk.js.map